#include "GRender/objects/cube.h"

namespace GRender {

Cube::Cube(const uint32_t maxNumCubes) : Object(maxNumCubes) {
    const std::vector<object::Vertex> vtxBuffer = {
        // LEFT
        {{-0.5f, -0.5, -0.5f}, {-1.0f, +0.0f, +0.0f}, {0.0f, 0.0f}}, // 0
        {{-0.5f, +0.5, -0.5f}, {-1.0f, +0.0f, +0.0f}, {1.0f, 0.0f}}, // 1
        {{-0.5f, -0.5, +0.5f}, {-1.0f, +0.0f, +0.0f}, {0.0f, 1.0f}}, // 2
        {{-0.5f, +0.5, +0.5f}, {-1.0f, +0.0f, +0.0f}, {1.0f, 1.0f}}, // 3
        // RIGHT
        {{+0.5f, -0.5, -0.5f}, {+1.0f, +0.0f, +0.0f}, {0.0f, 0.0f}}, // 4
        {{+0.5f, +0.5, -0.5f}, {+1.0f, +0.0f, +0.0f}, {1.0f, 0.0f}}, // 5
        {{+0.5f, -0.5, +0.5f}, {+1.0f, +0.0f, +0.0f}, {0.0f, 1.0f}}, // 6
        {{+0.5f, +0.5, +0.5f}, {+1.0f, +0.0f, +0.0f}, {1.0f, 1.0f}}, // 7
        // FRONT
        {{-0.5f, -0.5, +0.5f}, {+0.0f, +0.0f, +1.0f}, {0.0f, 0.0f}}, // 8
        {{+0.5f, -0.5, +0.5f}, {+0.0f, +0.0f, +1.0f}, {1.0f, 0.0f}}, // 9
        {{-0.5f, +0.5, +0.5f}, {+0.0f, +0.0f, +1.0f}, {0.0f, 1.0f}}, // 10
        {{+0.5f, +0.5, +0.5f}, {+0.0f, +0.0f, +1.0f}, {1.0f, 1.0f}}, // 11
        // BACK
        {{+0.5f, -0.5, -0.5f}, {+0.0f, +0.0f, -1.0f}, {0.0f, 0.0f}}, // 12
        {{-0.5f, -0.5, -0.5f}, {+0.0f, +0.0f, -1.0f}, {1.0f, 0.0f}}, // 13
        {{+0.5f, +0.5, -0.5f}, {+0.0f, +0.0f, -1.0f}, {0.0f, 1.0f}}, // 14
        {{-0.5f, +0.5, -0.5f}, {+0.0f, +0.0f, -1.0f}, {1.0f, 1.0f}}, // 15
        // BOTTOM
        {{+0.5f, -0.5, +0.5f}, {+0.0f, -1.0f, +0.0f}, {0.0f, 0.0f}}, // 16
        {{-0.5f, -0.5, +0.5f}, {+0.0f, -1.0f, +0.0f}, {1.0f, 0.0f}}, // 17
        {{+0.5f, -0.5, -0.5f}, {+0.0f, -1.0f, +0.0f}, {0.0f, 1.0f}}, // 18
        {{-0.5f, -0.5, -0.5f}, {+0.0f, -1.0f, +0.0f}, {1.0f, 1.0f}}, // 19
        // TOP
        {{-0.5f, +0.5, +0.5f}, {+0.0f, +1.0f, +0.0f}, {0.0f, 0.0f}}, // 20
        {{+0.5f, +0.5, +0.5f}, {+0.0f, +1.0f, +0.0f}, {1.0f, 0.0f}}, // 21
        {{-0.5f, +0.5, -0.5f}, {+0.0f, +1.0f, +0.0f}, {0.0f, 1.0f}}, // 22
        {{+0.5f, +0.5, -0.5f}, {+0.0f, +1.0f, +0.0f}, {1.0f, 1.0f}}, // 23
    };

    const std::vector<glm::uvec3> idxBuffer = {
        {0 , 1, 3}, { 0, 3, 2},
        {4 , 5, 7}, { 4, 7, 6},
        {8 , 9,11}, { 8,11,10},
        {12,13,15}, {12,15,14},
        {16,17,19}, {16,19,18},
        {20,21,23}, {20,23,22},
    };

    initialize(vtxBuffer, idxBuffer);
}

Cube::Cube(Cube&& obj) noexcept : Object(std::move(obj)) {}

Cube& Cube::operator=(Cube&& obj) noexcept {
    if (&obj != this) {
        this->~Cube();
        new (this) Cube(std::move(obj));
    }
    return *this;
}


} // namespace GRender
